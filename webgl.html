<!doctype html>
<html>
<head>
	<script src="lib/jquery.js"></script>
	<script src="lib/underscore.js"></script>
	<script src="lib/backbone.js"></script>
	<script src="lib/Three.js"></script>
	<script src="lib/stats.js"></script>
	<script src="src/SolariTexture.js"></script>
	<script src="src/SolariRow.js"></script>
	<script src="src/SolariFlap.js"></script>
	<script src="src/Solari.js"></script>
	<script>
	(function(){
	var board = window.Board = new Solari;
	new SolariTexture().bind('load', function(){
		var alphaSet = this;
		new SolariTexture().bind('load', function(){
			var row,
				statusSet = this;

			$('#container').append(board.el);

			_(6).times(function(){
				row = new SolariRow(board.y);

				_(10).times(function(){
					row.add(alphaSet);
				});
				// row.add(statusSet);
				board.add(row);
			});

			Board.start();
        }).load('img/statuses.png', 'SFUBA '.split(''), 360, 64);
    }).load('img/chars.png', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-.# '.split(''), 70, 63);

	setTimeout(function(){
		var img = document.createElement('img');
		img.style.maxWidth = Board.boardWidth + 'px';
		img.style.maxHeight = Board.boardHeight + 'px'; // Let the browser do the heavy lifting with the scaling and resampling
		
		document.body.appendChild(img);
		img.onload = function(){
			Board.setImage(img.src, img.clientWidth, img.clientHeight); // this will become our texture
			document.body.removeChild(img);
		};
		img.src= 'pug9.jpg';
		
	}, 500);

	})();
	</script>
	<style>
	*{
		margin:0;
		padding:0;
		overflow:hidden;
	}
	body{
		background:#000;
		background-image:-webkit-linear-gradient(90deg, rgba(0,0,0,0.5), rgba(0,0,0,0)), url('img/bg.png');
	}
	</style>
</head>
<body>
	<div id="container"></div>
</body>
</html>
